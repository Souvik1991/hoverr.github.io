<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="//acdn.adnxs.com/prebid/prebid.js" async></script>
<div id="container">Bid Response</div>
<script>
    var pbjs = pbjs || {};
    pbjs.que = pbjs.que || [];

    pbjs.que.push(function() {
        var adUnits = [{
            code: 'div-gpt-ad-1438287399331-0',
            sizes: [[300, 250], [300, 600]],
            bids: [{
                bidder: 'appnexus',
                params: { placementId: '4799418' }
            }
            // Add other bidders here
            ]
        }];
        pbjs.addAdUnits(adUnits);
        pbjs.requestBids({
            // This callback gets triggered when all bids for this
            // ad unit come back. 
            bidsBackHandler: function(bidResponses) {
                var targetingParams = pbjs.getAdserverTargeting();
                var container = document.getElementById('container');
                container.innerHTML = JSON.stringify(targetingParams);
            }
        });
    });
</script>
<script src="prebid.js" async></script>

pbjs.que.push(function() {
  var adUnits = [{
    code: "div-gpt-ad-1438287399331-0",
    sizes: [[300, 250], [728, 90]],
    bids: [{
        bidder: "rubicon",
        params: {
            rp_account: "4934",
            rp_site: "13945",
            rp_zonesize: "23948-15"
        }
    }, {
        bidder: 'sovrn',
        params: { tagId: '315045' }
    }, {
        bidder: "appnexus",
        params: { placementId: "234235" }
    }]
  }];
  pbjs.addAdUnits(adUnits);

  pbjs.requestBids({
    bidsBackHandler: function() {
        // callback when requested bids are all back
        console.log(pbjs.getBidResponses());
    };
  });
  PREBID_TIMEOUT = 300;
function initAdserver() {
    (function() {
        // To load GPT Library Async
    })();
    pbjs.initAdserverSet = true;
};
setTimeout(initAdserver, PREBID_TIMEOUT);
pbjs.que.push(function() {
  pbjs.setTargetingForGPTAsync();
});

});
</head>
<body>
</body>
</html>
